<!DOCTYPE html>
<html>
<head>
  <title>Doctor Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h2>Doctor Dashboard â€“ Patient Records</h2>

<button onclick="loadRecords()">Load Patient Data</button>

<table border="1" id="table" cellpadding="8"></table>

<script>
const BACKEND_URL = "https://prakriti-api.onrender.com";

function loadRecords() {
  fetch(`${BACKEND_URL}/records`)
    .then(res => res.json())
    .then(data => {
      let html = `
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Age</th>
          <th>Prakriti</th>
          <th>Confidence</th>
        </tr>
      `;

      data.forEach(row => {
        html += `
          <tr>
            <td>${row[0]}</td>
            <td>${row[1]}</td>
            <td>${row[2]}</td>
            <td>${row[5]}</td>
            <td>${row[6]}</td>
          </tr>
        `;
      });

      document.getElementById("table").innerHTML = html;
    })
    .catch(err => alert("Failed to load data"));
}
</script>

</body>
</html>
